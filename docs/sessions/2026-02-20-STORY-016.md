# Session: STORY-016 â€” 2026-02-20

## Story
[STORY-016](../stories/STORY-016-customizable-annotation-categories.md)

## Goal
Set up a contract-first delegated execution workflow for STORY-016 that works with strict pre-commit hooks (green-commit model).

## Findings
- Red-test commits conflict with mandatory pre-commit test gates unless using `--no-verify`.
- A test-contract commit plus post-run contract verification preserves integrity without bypassing hooks.
- Current delegation script lacked built-in transcript capture and deterministic contract enforcement.

## Decisions
- Use contract-first mode (docs test contract commit, then green implementation commits).
- Add script-level verification (`scripts/verify-test-contract.sh`) and delegate wrapper options:
  - `--test-contract`
  - `--log-file`
- Capture this as workflow debt in `DEBT-034`.

## Next Steps
- Propose and commit STORY-016 test-first contract changes for review.
- Run delegated execution using worktree + transcript log + contract verification.
- Hand control back for manual code review and merge approval.

